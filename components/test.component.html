<style>
	.test-report > * {
		padding: 2px 0;
		margin: 0;
	}

	.success {
		background-color: #afa;
	}

	.failure {
		background-color: #faa;
	}

	.test-report {
		display: none;
	}

	.test-report.test-show {
		display: block;
	}
</style>
<h3><label><input type="checkbox" data-bind="checked=_component_.show">Test Results</label></h3>
<div class="test-report" data-bind="class(test-show)=_component_.show"></div>
<script>
	/* global require, findOne, b8r, data, set */
	'use strict';

	const report_container = findOne('.test-report');

	const Test = require('lib/test.js');
	Test.setReportContainer(report_container);
	const test_runner = new Function('Test', 'b8r', '_required_', data.source + `////# sourceURL=${component.getAttribute('data-component-id')}`); // jshint ignore:line
	try {
		test_runner.call(null, Test, b8r, data._required_);
	} catch(e) {
		Test.report(`test runner threw exception: ${e}`, 'failure');
	}

	set({show: false});
</script>