<!-- Bind-O-Matic.js Copyright (c) 2016 Tonio Loewald -->
<style>
	.demo-area {
		text-align: center;
		border: 1px solid rgba(0,0,0,0.5);
		padding: 20px;
		cursor: pointer;
	}

	.annotated {
		display: inline-block;
		border-bottom: 1px dotted green;
	}
</style>
<div>
	<h4>Menu Test</h4>
	<p>
		Testbed for annotations and menus (annotations being the general term for widgets that pin to other DOM elements).
	</p>
	<div class="demo-area popover" data-event="mouseup:_component_.context_menu">
		Click to show Context Popover Menu
	</div>
	<p class="result"></p>
	<div class="demo-area">
		One of these words is <span class="annotated">annotated<span data-component="annotation"><div>I am an annotation</div></span></span>.
	</div>
</div>
<script>
	var result = findOne('.result');
	BOM.component('annotation', 'components/annotation');
	return {
		context_menu: function(evt) {
			BOM.component('context-menu', 'components/context-menu').then(component => {
				var target = findOne('.popover');
				BOM.insertComponent(component, false, {target});
			});
		}
	} 
</script>