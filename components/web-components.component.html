<!--
# Web Components

This shows b8r working with custom elements (see [web components](https://www.webcomponents.org/)).

`b8r` provides a [simple convenience library](#source=lib/web-components.js) for creating web components.

The custom elements used on this page are `checkbox-switch`, `select-bar`, `select-pop`, and
`select-option`, all created using the helper functions from [web-components.js](#source=lib/web-components.js).

Note that none of these examples have any dependency on `b8r`. The only provision any of them makes for b8r is that some filter out `data-list` templates (so that if you dynamically generate options in a `<select>`-like component, it doesn't display the template as an option -- the way Safari, for example, does.)

> **Note**: it's my current intention to move `b8r` towards `web-components` and away from the original HTML components. Even though I think the idea of HTML components is sound, there are advantages to a "pure javascript" architecture:
> 
> - Static analysis of code and dependencies (also autocomplete, etc.)
> - Doubling down on standards:
>   - Eventually abandon b8r's custom `require` in favor of `import`
>   - Web-components have no dependency on `b8r` at all
> - It will be possible to build a `<b8r-context>` component that neatly encapsulates all (almost! -- see below) of b8r's virtues in a web-component, allowing `b8r` to "live" anywhere -- inside, outside, or without other frameworks.
> - It should be possible to provide a neat way to migrate old HTML components to the new model (wrap them in web-components).
>
> The one thing a `<b8r-context>` component wouldn't be able to do is intercepting all events (see [b8r.anyEvent.js](#source=source/b8r.anyEvent.js)), but pretty close.
-->
<div>
  <h2>Bound to Different Paths</h2>
  <label>
    <span>Toggle Me</span>
    <checkbox-switch
      height="12px"
      data-bind="
        value=web-component-demo.toggle;
        attr(onColor)=web-component-demo.onColor;
        attr(color)=web-component-demo.offColor;
      " 
    ></checkbox-switch>
  </label>
  <label>
    <span>Toggle Me</span>
    <checkbox-switch data-bind="value=web-component-demo.other_toggle" thumbsize="20px" height="24px"
    ></checkbox-switch>
  </label>
</div>
<div>
  <h2>Bound to Same Path</h2>
  <select-bar data-bind="value=web-component-demo.select">
    <select-option 
      data-list="web-component-demo.options:value"
      data-bind="value=.value"
    ><span data-bind="text=.label">â€¦</span></select-option>
  </select-bar>
  <select-bar style="font-size: 24px; border-width: 4px" background="#aaa" data-bind="value=web-component-demo.select">
    <select-option 
      data-list="web-component-demo.options:value"
      data-bind="value=.value"
    ><span data-bind="text=.label">label</span></select-option>
  </select-bar>
  <select-pop data-bind="value=web-component-demo.select">
    <select-option 
      data-list="web-component-demo.options:value"
      data-bind="value=.value"
    ><span data-bind="text=.label">label</span></select-option>
  </select-pop>
</div>
<div>
  <h2>Markdown</h2>
  <markdown-area style="border: 1px solid #ccc; padding: 10px; height: 200px; overflow-y: scroll;" data-bind="value=web-component-demo.markdown">
  </markdown-area>
  </tab-selector>
</div>
<div>
  <h2>Tab Selector</h2>
  <tab-selector data-bind="value=web-component-demo.select">
    <div 
      style="margin: 10px;"
      data-list="web-component-demo.options"
      data-bind="text=.body;attr(name)=.label"
    ></div>
  </tab-selector>
</div>
<div>
  <h2>Super Simple Markdown Editor</h2>
  <tab-selector>
    <textarea 
      name="Source"
      style="padding: 10px; border: 0; height: 200px; width: 100%; overflow-y: scroll;" 
      data-bind="value=web-component-demo.markdown"
    ></textarea>
    <markdown-area
      style="padding: 10px; height: 200px; overflow-y: scroll;" 
      name="Rendered" 
      data-bind="value=web-component-demo.markdown"
    ></markdown-area>
</div>
<script>
  /* global require, b8r */
  require('../web-components/switch.js');
  require('../web-components/select.js');
  require('../web-components/markdown.js');
  require('../web-components/tabs.js');

  if (! b8r.get('web-component-demo')) {
    b8r.register('web-component-demo', {
      toggle: false, 
      other_toggle: true,
      onColor: 'red',
      offColor: 'pink',
      select: 2,
      options: [
        {value: 0, label: 'One', body: 'I am the first body'},
        {value: 1, label: 'Two', body: 'I am the second body'},
        {value: 2, label: 'Three', body: 'I am the third body'},
        {value: 3, label: 'The Fourth Item', body: 'I am the fourth body'},
      ],
      markdown: "#### Markdown Support\n> Here's some simple [markdown](https://daringfireball.net/projects/markdown/syntax).",
    });
  }
</script>
