<title>Bind-O-Matic</title>
<style>
	body {
		font: 14px "Helvetica Neue", Helvetica, Sans-serif;
		background-color: #eee;
	}

	h1, h2, h3 {
		color: navy;
		font-weight: 200;
	}

	.header > h1 {
		color: white;
		font-weight: 100;
		text-align: center;
	}

	[data-list] {
		display: none;
	}

	[data-children] {
		margin: 4px;
		padding: 4px;
		border: 1px dotted rgba(255,0,0,0.2);
	}

	.layout {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		display: flex;
		flex-direction: column;
	}

	.header {
		display: flex;
		justify-content: center;
		height: 60px;
		background-color: navy;
	}

	.header > * {
		margin: 0;
		padding: 0;
		width: 920px;
	}

	.footer {
		height: 40px;
		background-color: silver;
	}

	.three_col {
		justify-content: center;
		display: flex;
		flex-grow: 1;
	}

	.content {
		width: 600px;
		background-color: white;
	}

	.three_col > * > * {
		padding: 12px;
	}

	.nav {
		width: 160px;
		flex: none;
	}

	.loadable {
		background-color: white;
		padding: 2px 4px;
		margin-bottom: 4px;
		border: 1px solid rgba(0,0,0,0.2);
		cursor: pointer;
	}

	.loadable:hover {
		border: 1px solid rgba(0,0,0,0.4);
	}
</style>
<body>
	<div class="layout">
		<div class="header">
			<h1>Bind-O-Matic.js</h1>
		</div>
		<div class="three_col">
			<div class="nav">
				<h3>Documentation</h3>
				<div data-component="list">
					<div 
						class="loadable"
						data-list="source_files" 
						data-bind="text=.name;attr(data-path)=.path"
						data-event="mouseup:demo.showDocs"
					>
						File Name
					</div>
				</div>
				<h3>Components</h3>
				<div data-component="list">
					<div
						class="loadable"
						data-list="components"
						data-bind="text=.name;attr(data-path)=.path"
						data-event="mouseup:demo.loadComponent"
					>
						File Name
					</div>
				</div>
			</div>
			<div class="content">
				<h1 id="title">Middle</h1>
				<div id="example">
					
				</div>
			</div>
			<div class="nav">
				<h3>Tests</h3>
				<a href="tests.html">Unit Tests</a>
			</div>
		</div>
		<div class="footer">Footer</div>
	</div>
	<script src="bom.js"></script>
	<script>
		BOM.register('demo', {
			showDocs: function(evt) {
				var source_file = evt.target.getAttribute('data-path');
			},
			loadComponent: function(evt) {
				var component_name = evt.target.getAttribute('data-path');
				BOM.component(component_name, 'components/' + component_name)
					 .then(component => {
					 		BOM.id('title').textContent = 'Component: ' + component_name;
							var element = BOM.id('example');
					 		BOM.empty(element);
					 		BOM.insertComponent(component, element);
					 });
			},
		});
		BOM.component('hello', 'components/hello');
		BOM.json('source-files.json').then(data => BOM.register('source_files', data));
		BOM.json('components.json').then(data => BOM.register('components', data));
	</script>
</body>