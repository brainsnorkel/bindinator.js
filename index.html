<title>Bind-O-Matic</title>
<style>
	body {
		font: 14px "Helvetica Neue", Helvetica, Sans-serif;
		background-color: #eee;
	}

	h1, h2, h3 {
		color: navy;
		font-weight: 200;
	}

	.header > h1 {
		color: white;
		font-weight: 100;
		text-align: center;
	}

	[data-list] {
		display: none;
	}

	.layout {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		display: flex;
		flex-direction: column;
	}

	.header {
		display: flex;
		justify-content: center;
		height: 60px;
		background-color: navy;
	}

	.header > * {
		margin: 0;
		padding: 0;
		width: 920px;
	}

	.footer {
		height: 40px;
		background-color: silver;
	}

	.three_col {
		justify-content: center;
		display: flex;
		flex-grow: 1;
	}

	.content {
		min-width: 600px;
		background-color: white;
	}

	.three_col > * > * {
		padding: 12px;
	}

	.nav {
		width: 160px;
	}
</style>
<body>
	<div class="layout">
		<div class="header">
			<h1>Bind-O-Matic.js</h1>
		</div>
		<div class="three_col">
			<div class="nav">
				<h3>Links</h3>
			</div>
			<div class="content">
				<h1>Middle</h1>
				<div style="display: flex">
					<div style="flex-grow: 1" data-component="hello">
						<p>I am an inherited child</p>
					</div>
					<div style="flex-grow: 1" data-component="hello">
						<p>I am a different inherited child</p>
					</div>
				</div>
				<div>
					<button onclick="dialog('Dialog Test', 'Hello from dialog component.', evt => this.nextSibling.textContent = ' user clicked ' + evt.target.textContent)">
						Dialog Test
					</button>
					<span></span>
				</div>
			</div>
			<div class="nav">
				<h3>Documentation</h3>
				<div data-component="list">
					<div data-list="source_files" data-bind="text=.name;attr(data-path)=.path">
						File Name
					</div>
				</div>
				<h3>Components</h3>
				<div data-component="list">
					<div data-list="components" data-bind="text=.name;attr(data-path)=.path">
						File Name
					</div>
				</div>
				<h3>Tests</h3>
				<a href="tests.html">Unit Tests</a>
			</div>
		</div>
		<div class="footer">Footer</div>
	</div>
	<script src="bom.js"></script>
	<script>
		function dialog(title, message, callback) {
			BOM.component('modal', 'components/modal').then(
				() =>BOM.insertComponent(
					'modal',
					false,
					{
						title: title,
						message: message,
						cancel: 'Cancel',
						ok: 'OK',
						callback: callback
					}
				)
			);
		}
		BOM.component('hello', 'components/hello');
		BOM.json('source-files.json').then(data => BOM.register('source_files', data));
		BOM.json('components.json').then(data => BOM.register('components', data));
	</script>
</body>